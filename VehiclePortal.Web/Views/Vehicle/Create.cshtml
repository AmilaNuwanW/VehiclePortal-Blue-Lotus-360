@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

@{
    var message = TempData["Message"] as string;
}
@{
    var errormessage = TempData["ErrorMessage"] as string;
}



@model VehiclePortal.Web.Models.CreateVehicleViewModel

<h1>Create Vehicle</h1>

@if (!string.IsNullOrEmpty(message) || !string.IsNullOrEmpty(errormessage))
{
    if (!string.IsNullOrEmpty(message))
    {
        <div id="successToast" class="toast align-items-center text-white bg-success border-0 position-fixed top-0 end-0 m-3" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">
                    @message
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    }

    if (!string.IsNullOrEmpty(errormessage))
    {
        <div id="errorToast" class="toast align-items-center text-white bg-danger border-0 position-fixed top-0 end-0 m-3" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">
                    @errormessage
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    }

}
    

<form method="post" enctype="multipart/form-data">

<div>
    <lable class="form-lable">Make</lable>
    <input type="text" class="form-control" asp-for="Make" required/>
</div>

<div>
    <lable class="form-lable">Model</lable>
        <input type="text" class="form-control" asp-for="Model" required />
</div>

    <div>
        <label class="form-lable">Year</label>
        <input type="number" class="form-control" asp-for="Year" min="1900" max="2024" required />
    </div>

<div>
    <lable class="form-lable">Color</lable>
        <input type="text" class="form-control" asp-for="Color" required />
</div>

<div>
    <lable class="form-lable">Vehicle Identification Number</lable>
        <input type="text" class="form-control" asp-for="VIN" required />
</div>

<div>
    <lable class="form-lable">License Plate</lable>
        <input type="text" class="form-control" asp-for="LicensePlate" pattern="[A-Z]{3}\d{4}" title="License plate must be in the format ABC1234" required />
</div>

    <div>
        <label class="form-label">Image</label>
        <input type="file" class="form-control" asp-for="ImageFile" required />
    </div>

<div class="mt-3">
    <button type="submit" class="btn btn-primary">Save</button>
        <a class="btn btn-primary" asp-controller="Vehicle" asp-action="Details">See Vehicles</a>
</div>


<div>
    
</div>

</form>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var successToast = new bootstrap.Toast(document.getElementById('successToast'));
            var errorToast = new bootstrap.Toast(document.getElementById('errorToast'));

            @if (!string.IsNullOrEmpty(message))
            {
                <text>successToast.show();</text>
                <text>setTimeout(function() { successToast.hide(); }, 3000);</text>
            }

            @if (!string.IsNullOrEmpty(errormessage))
            {
                <text>errorToast.show();</text>
                <text>setTimeout(function() { errorToast.hide(); }, 3000);</text>
            }
        });
    </script>
}



